{"version":3,"sources":["../../out/react-components/item-dialog.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","define","require","exports","React","maishu_ui_toolkit_1","ReactDOM","maishu_dilu_1","input_control_1","Object","defineProperty","createItemDialog","dataSource","name","child","beforeSave","ItemDialog","props","state","beforeSaves","inputControls","validator","clearErrors","check","save","hideDialog","dialogElement","dataItem","primaryValues","primaryKeys","title","length","forEach","c","dataField","setState","all","map","m","o","filter","v","update","insert","children","r","Array","isArray","ctrl","exists","id","push","nodes","childrenToArray","validateFields","stack","item","pop","type","prototype","InputControl","validateRules","f","rules","FormValidator","fieldsConatiner","createElement","className","style","paddingLeft","paddingRight","ref","onClick","onSaveButtonClick","instance","document","body","appendChild","render","setDataItem","showDialog","Component"],"mappings":"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","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\ndefine([\"require\", \"exports\", \"react\", \"maishu-ui-toolkit\", \"react-dom\", \"maishu-dilu\", \"./inputs/input-control\"], function (require, exports, React, maishu_ui_toolkit_1, ReactDOM, maishu_dilu_1, input_control_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function createItemDialog(dataSource, name, child, beforeSave) {\r\n        class ItemDialog extends React.Component {\r\n            constructor(props) {\r\n                super(props);\r\n                this.state = {};\r\n                this.beforeSaves = [];\r\n                this.inputControls = [];\r\n            }\r\n            onSaveButtonClick() {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    this.validator.clearErrors();\r\n                    if (!this.validator.check()) {\r\n                        return Promise.reject('validate fail');\r\n                    }\r\n                    yield this.save();\r\n                    maishu_ui_toolkit_1.hideDialog(this.dialogElement);\r\n                });\r\n            }\r\n            setDataItem(dataItem) {\r\n                this.dataItem = dataItem;\r\n                let primaryValues = dataSource.primaryKeys;\r\n                let title = primaryValues.length > 0 ? `修改${name}` : `添加${name}`;\r\n                this.inputControls.forEach(c => {\r\n                    let value = dataItem[c.props.dataField];\r\n                    c.value = value;\r\n                });\r\n                this.setState({ title });\r\n            }\r\n            save() {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    let dataItem = this.dataItem;\r\n                    this.inputControls.forEach(c => {\r\n                        dataItem[c.props.dataField] = c.value;\r\n                    });\r\n                    if (beforeSave) {\r\n                        yield beforeSave(dataItem);\r\n                    }\r\n                    if (this.beforeSaves.length > 0) {\r\n                        yield Promise.all(this.beforeSaves.map(m => m(dataItem)));\r\n                    }\r\n                    let primaryValues = dataSource.primaryKeys.map(o => dataItem[o]).filter(v => v != null);\r\n                    if (primaryValues.length > 0) {\r\n                        yield dataSource.update(dataItem);\r\n                    }\r\n                    else {\r\n                        yield dataSource.insert(dataItem);\r\n                    }\r\n                });\r\n            }\r\n            childrenToArray(children) {\r\n                let r = Array.isArray(children) ? children : [children];\r\n                r = r.filter(o => o);\r\n                return r;\r\n            }\r\n            controlCreated(ctrl) {\r\n                let exists = this.inputControls.filter(o => o.id == ctrl.id).length > 0;\r\n                if (exists)\r\n                    return;\r\n                this.inputControls.push(ctrl);\r\n            }\r\n            componentDidMount() {\r\n                let nodes = this.childrenToArray(child.props.children); //Array.isArray(child.props.children) ? child.props.children : [child.props.children];\r\n                var validateFields = [];\r\n                let stack = [...nodes];\r\n                while (stack.length > 0) {\r\n                    let item = stack.pop();\r\n                    if (!item.props)\r\n                        continue;\r\n                    // let props = item.props as ValidateDataField & { dataField: string, name: string };\r\n                    // if (props.validateRules != null) {\r\n                    //     let f: ValidateField = { name: props.name || props.dataField, rules: props.validateRules || [] };\r\n                    //     validateFields.push(f);\r\n                    // }\r\n                    if (item.props.type != null && item.props.type.prototype instanceof input_control_1.InputControl) {\r\n                        this.inputControls.push(item);\r\n                        let props = item.props;\r\n                        if (props.validateRules != null) {\r\n                            let f = { name: props.dataField, rules: props.validateRules || [] };\r\n                            validateFields.push(f);\r\n                        }\r\n                    }\r\n                    let children = this.childrenToArray(item.props.children);\r\n                    stack.push(...children);\r\n                }\r\n                this.validator = new maishu_dilu_1.FormValidator(this.fieldsConatiner, ...validateFields);\r\n            }\r\n            render() {\r\n                let { title } = this.state;\r\n                // let primaryValues = dataSource.primaryKeys.map(o => dataItem[o]).filter(v => v != null);\r\n                return React.createElement(\"div\", { className: \"modal-dialog\" },\r\n                    React.createElement(\"div\", { className: \"modal-content\" },\r\n                        React.createElement(\"div\", { className: \"modal-header\" },\r\n                            React.createElement(\"button\", { type: \"button\", className: \"close\", \"data-dismiss\": \"modal\", \"aria-label\": \"Close\" },\r\n                                React.createElement(\"span\", { \"aria-hidden\": \"true\" }, \"\\u00D7\")),\r\n                            React.createElement(\"h4\", { className: \"modal-title\" }, title)),\r\n                        React.createElement(\"div\", { className: \"modal-body well\", style: { paddingLeft: 20, paddingRight: 20 }, ref: e => this.fieldsConatiner = e || this.fieldsConatiner }, child),\r\n                        React.createElement(\"div\", { className: \"modal-footer\" },\r\n                            React.createElement(\"button\", { className: \"btn btn-default\", onClick: e => { maishu_ui_toolkit_1.hideDialog(this.dialogElement); } },\r\n                                React.createElement(\"i\", { className: \"icon-reply\" }),\r\n                                React.createElement(\"span\", null, \"\\u53D6\\u6D88\")),\r\n                            React.createElement(\"button\", { className: \"btn btn-primary\", onClick: () => this.onSaveButtonClick() },\r\n                                React.createElement(\"i\", { className: \"icon-save\" }),\r\n                                React.createElement(\"span\", null, \"\\u786E\\u5B9A\")))));\r\n            }\r\n            static show(dataItem) {\r\n                dataItem = dataItem || {};\r\n                if (!ItemDialog.instance) {\r\n                    let dialogElement = document.createElement(\"div\");\r\n                    dialogElement.className = \"modal fade-in\";\r\n                    document.body.appendChild(dialogElement);\r\n                    ItemDialog.instance = ReactDOM.render(React.createElement(ItemDialog, null), dialogElement);\r\n                    ItemDialog.instance.dialogElement = dialogElement;\r\n                }\r\n                ItemDialog.instance.validator.clearErrors();\r\n                // ItemDialog.instance.setState({ dataItem: dataItem });\r\n                ItemDialog.instance.setDataItem(dataItem);\r\n                maishu_ui_toolkit_1.showDialog(ItemDialog.instance.dialogElement);\r\n            }\r\n        }\r\n        return ItemDialog;\r\n    }\r\n    exports.createItemDialog = createItemDialog;\r\n});\r\n// export let ItemDialogContext = React.createContext({\r\n//     controlCreated: null as (ctrl: InputControl<any>) => void\r\n// });\r\n"],"file":"item-dialog.js"}