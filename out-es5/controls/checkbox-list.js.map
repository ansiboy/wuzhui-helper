{"version":3,"sources":["../../out/controls/checkbox-list.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","errors_1","require","checkboxList","params","errors","argumentNull","element","argumentFieldNull","dataSource","nameField","valueField","dataField","dataItem","select","r","elementDataItems","dataItems","map","o","label","document","createElement","input","type","span","appendChild","name","innerHTML","Array","isArray","dataFieldValueNotArray","checked","push","onchange","filter"],"mappings":"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","sourcesContent":["\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst errors_1 = require(\"../errors\");\r\nfunction checkboxList(params) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!params)\r\n            throw errors_1.errors.argumentNull('params');\r\n        if (!params.element)\r\n            throw errors_1.errors.argumentFieldNull('params', 'element');\r\n        if (!params.dataSource)\r\n            throw errors_1.errors.argumentFieldNull('params', 'dataSource');\r\n        let { dataSource, element, nameField, valueField, dataField, dataItem } = params;\r\n        let r = yield dataSource.select({});\r\n        let elementDataItems = [];\r\n        r.dataItems.map(o => {\r\n            let label = document.createElement('label');\r\n            let input = document.createElement('input');\r\n            input.type = \"checkbox\";\r\n            let span = document.createElement('span');\r\n            label.appendChild(input);\r\n            label.appendChild(span);\r\n            let name = nameField ? o[nameField] : o;\r\n            let value = valueField ? o[valueField] : o;\r\n            input.value = `${value}`;\r\n            span.innerHTML = `${name}`;\r\n            if (dataItem[dataField] && !Array.isArray(dataItem[dataField])) {\r\n                throw errors_1.errors.dataFieldValueNotArray(dataField);\r\n            }\r\n            if (value == dataItem[dataField]) {\r\n                input.checked = true;\r\n            }\r\n            elementDataItems.push({ element: input, dataItem: o });\r\n            input.onchange = function (e) {\r\n                dataItem[dataField] = elementDataItems.filter(o => o.element.checked).map(o => o.dataItem[valueField]);\r\n            };\r\n            element.appendChild(label);\r\n        });\r\n    });\r\n}\r\nexports.checkboxList = checkboxList;\r\n"],"file":"checkbox-list.js"}